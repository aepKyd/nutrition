# ÐŸÐ»Ð°Ð½ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° Nutrition API

**Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ:** 2025-11-13
**ÐžÐ±Ñ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ:** 14-21 Ñ‡Ð°Ñ
**ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ:** 4 Ð´Ð½Ñ

---

## ðŸš€ Ð­Ñ‚Ð°Ð¿Ñ‹ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸

### Ð­Ñ‚Ð°Ð¿ 1: Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° (1-2 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**
1. **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:**
   ```bash
   mkdir -p nutrition-api/{init,tests,docs}
   touch nutrition-api/{README.md,docker-compose.yml,.env.example,.gitignore}
   ```

2. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ .gitignore:**
   ```
   .env
   *.log
   .DS_Store
   ```

3. **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ docker-compose.yml:**
   - Ð¡ÐµÑ€Ð²Ð¸Ñ PostgreSQL 16 (alpine)
   - Volume: postgres_data (named volume)
   - ÐœÐ°Ð¿Ð¿Ð¸Ð½Ð³ init/ â†’ /docker-entrypoint-initdb.d/
   - Health check Ð´Ð»Ñ Postgres
   - Ð¡ÐµÑ€Ð²Ð¸Ñ pgAdmin 4
   - Networks Ð´Ð»Ñ Ð¸Ð·Ð¾Ð»ÑÑ†Ð¸Ð¸

4. **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ .env.example Ð¸ .env:**
   - Ð¡ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð· Ð¢Ð— (Ñ€Ð°Ð·Ð´ÐµÐ» "ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ")
   - Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»Ð¸ Ð½Ð° Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ðµ

5. **ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿ÑƒÑÐº:**
   ```bash
   docker-compose up -d
   docker-compose ps  # Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ
   docker-compose logs postgres  # Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
   ```

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** PostgreSQL Ð¸ pgAdmin Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ñ‹, Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚Ð°Ñ… 5432 Ð¸ 5050

---

### Ð­Ñ‚Ð°Ð¿ 2: Ð¡Ñ…ÐµÐ¼Ð° Ð‘Ð” â€” Ð¢Ð°Ð±Ð»Ð¸Ñ†Ñ‹ (2-3 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ð°Ð·Ð¾Ð²ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ Ð‘Ð”

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**

1. **init/01_create_extensions.sql (15 Ð¼Ð¸Ð½):**
   ```sql
   CREATE EXTENSION IF NOT EXISTS pg_trgm;
   CREATE EXTENSION IF NOT EXISTS fuzzystrmatch;
   CREATE EXTENSION IF NOT EXISTS unaccent;
   CREATE SCHEMA IF NOT EXISTS nutrition;
   SET search_path = nutrition, public;
   ```

2. **init/02_create_tables.sql (1.5-2 Ñ‡Ð°ÑÐ°):**
   - Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹:
     1. ingredient_categories
     2. recipe_categories
     3. ingredients (Ñ deleted_at, constraints)
     4. ingredient_synonyms
     5. recipes (Ñ deleted_at, constraints)
     6. recipe_ingredients
     7. cooked_dishes (Ñ deleted_at, constraints)
     8. cooked_dish_ingredients
     9. consumed (constraints Ð½Ð° meal_type, weight)

   - Ð”Ð»Ñ ÐšÐÐ–Ð”ÐžÐ™ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹:
     - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ COMMENT ON TABLE
     - Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ COMMENT ON COLUMN Ð´Ð»Ñ Ð²ÑÐµÑ… ÐºÐ¾Ð»Ð¾Ð½Ð¾Ðº
     - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÑÐµ constraints Ð¸Ð· Ð¢Ð—
     - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‚Ð¸Ð¿Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… (NUMERIC precision)

3. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° (30 Ð¼Ð¸Ð½):**
   ```sql
   -- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ Ñ‡ÐµÑ€ÐµÐ· pgAdmin Ð¸Ð»Ð¸ psql
   \dt nutrition.*  -- ÑÐ¿Ð¸ÑÐ¾Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†
   \d+ nutrition.ingredients  -- ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
   -- ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ INSERT Ñ Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸ÐµÐ¼ constraints
   ```

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** Ð’ÑÐµ 9 Ñ‚Ð°Ð±Ð»Ð¸Ñ† ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹, constraints Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

---

### Ð­Ñ‚Ð°Ð¿ 3: Ð˜Ð½Ð´ÐµÐºÑÑ‹ Ð¸ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹ (2-3 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð¸ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸ÑŽ

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**

1. **init/03_create_indexes.sql (1 Ñ‡Ð°Ñ):**
   - B-tree Ð¸Ð½Ð´ÐµÐºÑÑ‹ Ð½Ð° Ð²ÑÐµ FK (8 Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²)
   - GIN trigram Ð½Ð° ingredients.name_normalized
   - GIN trigram Ð½Ð° ingredient_synonyms.synonym
   - GIN full-text Ð½Ð° ingredients.name
   - B-tree Ð½Ð° consumed.consumed_at
   - Composite Ð½Ð° consumed(consumed_at, meal_type)
   - B-tree Ð½Ð° cooked_dishes.cooked_at
   - 3 Partial indexes (WHERE deleted_at IS NULL)

   **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:** `\di nutrition.*` â€” ÑÐ¿Ð¸ÑÐ¾Ðº Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²

2. **init/04_create_triggers.sql (1.5-2 Ñ‡Ð°ÑÐ°):**

   **Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ð¸ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹:**

   a) **normalize_ingredient_name()** + Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€
   ```sql
   CREATE OR REPLACE FUNCTION nutrition.normalize_ingredient_name()
   RETURNS TRIGGER AS $$
   BEGIN
     NEW.name_normalized := TRIM(
       REGEXP_REPLACE(
         REPLACE(LOWER(NEW.name), 'Ñ‘', 'Ðµ'),
         '\s+', ' ', 'g'
       )
     );
     RETURN NEW;
   END;
   $$ LANGUAGE plpgsql;

   CREATE TRIGGER trg_normalize_ingredient_name
   BEFORE INSERT OR UPDATE ON nutrition.ingredients
   FOR EACH ROW EXECUTE FUNCTION nutrition.normalize_ingredient_name();
   ```

   b) **normalize_synonym()** + Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€ (Ð°Ð½Ð°Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾)

   c) **recalculate_dish_nutrition()** + Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€
   - AFTER INSERT/UPDATE/DELETE Ð½Ð° cooked_dish_ingredients
   - Ð¡ÑƒÐ¼Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐšÐ‘Ð–Ð£ Ð²ÑÐµÑ… Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð²
   - UPDATE cooked_dishes SET total_*

   d) **calculate_consumed_nutrition()** + Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€
   - BEFORE INSERT Ð½Ð° consumed
   - Ð Ð°ÑÑÑ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ ÐšÐ‘Ð–Ð£ Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸
   - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ðº, ÑƒÑ€ÐµÐ·Ð°Ñ‚ÑŒ ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾

   e) **update_recipe_stats()** + Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€
   - AFTER INSERT Ð½Ð° cooked_dishes
   - ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ times_cooked, avg_cooked_weight

   f) **update_updated_at()** + Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€
   - BEFORE UPDATE Ð½Ð° recipes

   **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:** Ð’ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ, Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ñ‹

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** Ð’ÑÐµ Ð¸Ð½Ð´ÐµÐºÑÑ‹ Ð¸ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

---

### Ð­Ñ‚Ð°Ð¿ 4: VIEW Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ (2-3 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑƒÐ´Ð¾Ð±Ð½Ñ‹Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**

1. **init/05_create_views.sql (1-1.5 Ñ‡Ð°ÑÐ°):**

   **Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ VIEW Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ:**
   1. ingredients_active / ingredients_all
   2. recipes_active / recipes_all
   3. cooked_dishes_active / cooked_dishes_all
   4. recipe_nutrition (JOIN recipe_ingredients + ingredients)
   5. cooked_dishes_per_100g (Ñ€Ð°ÑÑ‡Ñ‘Ñ‚ ÐšÐ‘Ð–Ð£ Ð½Ð° 100Ð³)
   6. remaining_dishes (Ñ Ð¿Ð¾Ð´Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð¼ SUM consumed)
   7. daily_stats (GROUP BY DATE, meal_type)
   8. popular_recipes (ORDER BY times_cooked)

   **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:** `SELECT * FROM nutrition.remaining_dishes;`

2. **init/06_create_functions.sql (1-1.5 Ñ‡Ð°ÑÐ°):**

   **Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸:**
   1. `search_ingredients(TEXT, INT)` â€” Ð¼Ð½Ð¾Ð³Ð¾ÑƒÑ€Ð¾Ð²Ð½ÐµÐ²Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº
   2. `calculate_dish_nutrition(INT)` â€” Ñ€ÑƒÑ‡Ð½Ð¾Ð¹ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚
   3. `get_daily_summary(DATE)` â€” JSON ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°
   4. `soft_delete_ingredient(INT)` â€” Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
   5. `soft_delete_recipe(INT)`
   6. `soft_delete_cooked_dish(INT)` â€” Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¾Ð¹ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ°

   **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:**
   ```sql
   SELECT * FROM nutrition.search_ingredients('ÐºÑƒÑ€Ð¸Ñ†Ð°', 5);
   SELECT nutrition.get_daily_summary('2025-11-13');
   ```

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** Ð’ÑÐµ VIEW Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚, Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÑŽÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ðµ

---

### Ð­Ñ‚Ð°Ð¿ 5: ÐÐ°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ (2-3 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð‘Ð” Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ð¼Ð¸ Ð´Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**

1. **init/07_seed_data.sql:**

   **Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ„Ð°Ð¹Ð»Ð°:**
   ```sql
   -- 1. ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð² (10 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
   INSERT INTO nutrition.ingredient_categories ...

   -- 2. ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð² (9 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
   INSERT INTO nutrition.recipe_categories ...

   -- 3. Ð˜Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ñ‹ (50-70 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
   -- Ð“Ñ€ÑƒÐ¿Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾ ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸ÑÐ¼ Ð´Ð»Ñ ÑƒÐ´Ð¾Ð±ÑÑ‚Ð²Ð°
   -- ÐœÑÑÐ¾ Ð¸ Ð¿Ñ‚Ð¸Ñ†Ð° (8-10)
   -- Ð Ñ‹Ð±Ð° (5-7)
   -- ÐšÑ€ÑƒÐ¿Ñ‹ (6-8)
   -- ÐžÐ²Ð¾Ñ‰Ð¸ (12-15)
   -- Ð¤Ñ€ÑƒÐºÑ‚Ñ‹ (8-10)
   -- ÐœÐ¾Ð»Ð¾Ñ‡Ð½Ð¾Ðµ (6-8)
   -- Ð¯Ð¹Ñ†Ð° (2-3)
   -- Ð–Ð¸Ñ€Ñ‹ (4-5)
   -- Ð‘Ð¾Ð±Ð¾Ð²Ñ‹Ðµ (4-5)
   -- ÐžÑ€ÐµÑ…Ð¸ (4-5)

   -- 4. Ð¡Ð¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹ (20-30 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
   -- Ð”Ð»Ñ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ñ… Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð²

   -- 5. Ð ÐµÑ†ÐµÐ¿Ñ‚Ñ‹ (3-5 Ð·Ð°Ð¿Ð¸ÑÐµÐ¹)
   -- ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ðµ Ð±Ð°Ð·Ð¾Ð²Ñ‹Ðµ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ñ‹

   -- 6. Ð˜Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ñ‹ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð²
   -- Ð”Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð°
   ```

   **Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ ÐšÐ‘Ð–Ð£:** https://calorizator.ru, USDA FoodData Central

   **ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð²:**
   1. Ð“Ñ€ÐµÑ‡ÐºÐ° Ñ ÐºÑƒÑ€Ð¸Ñ†ÐµÐ¹ (Ð³Ñ€ÐµÑ‡ÐºÐ° 100Ð³, ÐºÑƒÑ€Ð¸Ñ†Ð° Ð³Ñ€ÑƒÐ´ÐºÐ° 150Ð³, Ð¼Ð°ÑÐ»Ð¾ 5Ð³)
   2. ÐžÐ²ÑÑÐ½ÐºÐ° Ð½Ð° Ð¼Ð¾Ð»Ð¾ÐºÐµ (Ð¾Ð²ÑÑÐ½ÐºÐ° 50Ð³, Ð¼Ð¾Ð»Ð¾ÐºÐ¾ 200Ð³)
   3. ÐžÐ¼Ð»ÐµÑ‚ (ÑÐ¹Ñ†Ð° 2ÑˆÑ‚, Ð¼Ð¾Ð»Ð¾ÐºÐ¾ 50Ð³, Ð¼Ð°ÑÐ»Ð¾ 5Ð³)

2. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ°:**
   ```sql
   SELECT COUNT(*) FROM nutrition.ingredients_active;  -- 50-70
   SELECT * FROM nutrition.search_ingredients('ÐºÑƒÑ€', 10);
   SELECT * FROM nutrition.recipes_active;
   ```

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** 50-70 Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð², ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹, 3-5 Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð² Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ñ‹

---

### Ð­Ñ‚Ð°Ð¿ 6: Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ (2-3 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÑÑŽ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**

1. **tests/test_01_basic_crud.sql (30 Ð¼Ð¸Ð½):**
   - INSERT/SELECT/UPDATE Ð´Ð»Ñ Ð²ÑÐµÑ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†
   - ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° constraints (Ð´Ð¾Ð»Ð¶Ð½Ñ‹ ÑƒÐ¿Ð°ÑÑ‚ÑŒ Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ¾Ð¹)

2. **tests/test_02_search.sql (30 Ð¼Ð¸Ð½):**
   - Ð¢Ð¾Ñ‡Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº
   - ÐŸÐ¾Ð¸ÑÐº Ñ Ð¾Ð¿ÐµÑ‡Ð°Ñ‚ÐºÐ°Ð¼Ð¸ (similarity)
   - ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð°Ð¼
   - ÐŸÐ¾Ð»Ð½Ð¾Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº

3. **tests/test_03_calculations.sql (30 Ð¼Ð¸Ð½):**
   - Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð±Ð»ÑŽÐ´Ð¾, Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚ ÐšÐ‘Ð–Ð£
   - Ð¡ÑŠÐµÑÑ‚ÑŒ Ð¿Ð¾Ñ€Ñ†Ð¸ÑŽ, Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐšÐ‘Ð–Ð£
   - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ VIEW cooked_dishes_per_100g
   - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ VIEW remaining_dishes
   - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ daily_stats

4. **tests/test_04_triggers.sql (30 Ð¼Ð¸Ð½):**
   - ÐÐ¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¸Ð¼ÐµÐ½Ð¸
   - Ð£Ñ€ÐµÐ·Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ñ€Ñ†Ð¸Ð¸ Ð´Ð¾ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ°
   - Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð°

5. **tests/test_05_soft_delete.sql (30 Ð¼Ð¸Ð½):**
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚, Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ VIEW
   - ÐŸÐ¾Ð¿Ñ‹Ñ‚ÐºÐ° ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ð¹ (Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ¿Ð°ÑÑ‚ÑŒ)
   - Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð±Ð»ÑŽÐ´Ð¾ Ñ Ð¾ÑÑ‚Ð°Ñ‚ÐºÐ¾Ð¼ (Ð´Ð¾Ð»Ð¶Ð½Ð° ÑƒÐ¿Ð°ÑÑ‚ÑŒ)

6. **tests/run_tests.sh (30 Ð¼Ð¸Ð½):**
   ```bash
   #!/bin/bash
   set -e

   PGHOST=localhost
   PGPORT=5432
   PGUSER=nutrition_app
   PGPASSWORD=nutrition_secure_password
   PGDATABASE=nutrition

   for test in tests/test_*.sql; do
     echo "Running $test..."
     psql -h $PGHOST -U $PGUSER -d $PGDATABASE -f $test
     echo "âœ“ $test passed"
   done
   ```

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº

---

### Ð­Ñ‚Ð°Ð¿ 7: Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ (2-3 Ñ‡Ð°ÑÐ°)

**Ð¦ÐµÐ»ÑŒ:** Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ð¾Ð»Ð½ÑƒÑŽ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**

1. **README.md (1 Ñ‡Ð°Ñ):**
   - ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
   - Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ (docker-compose ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹)
   - Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð‘Ð” (ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° ER_DIAGRAM.md)
   - ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
   - Troubleshooting

2. **docs/ER_DIAGRAM.md (30 Ð¼Ð¸Ð½):**
   - Mermaid Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð¸Ð· Ð¢Ð—
   - ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð²ÑÐµÑ… ÑÐ²ÑÐ·ÐµÐ¹
   - Ð¢Ð°Ð±Ð»Ð¸Ñ†Ð° Ñ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÐµÐ¼ Ñ‚Ð°Ð±Ð»Ð¸Ñ†

3. **docs/API_QUERIES.md (1 Ñ‡Ð°Ñ):**
   - ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð²ÑÐµÑ… Ð¾ÑÐ½Ð¾Ð²Ð½Ñ‹Ñ… Ð¾Ð¿ÐµÑ€Ð°Ñ†Ð¸Ð¹
   - ÐŸÐ¾Ð¸ÑÐº, ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ, ÑƒÑ‡Ñ‘Ñ‚, ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°
   - SQL Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ñ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸ÑÐ¼Ð¸

4. **docs/PERFORMANCE.md (30 Ð¼Ð¸Ð½):**
   - EXPLAIN ANALYZE Ð´Ð»Ñ search_ingredients
   - EXPLAIN ANALYZE Ð´Ð»Ñ daily_stats
   - Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸

**ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¹ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ:** Ð’ÑÑ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð°, Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

---

### Ð­Ñ‚Ð°Ð¿ 8: Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° (1 Ñ‡Ð°Ñ)

**Ð—Ð°Ð´Ð°Ñ‡Ð¸:**
1. ÐŸÐµÑ€ÐµÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð‘Ð” Ñ Ð½ÑƒÐ»Ñ: `docker-compose down -v && docker-compose up -d`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¿Ñ€Ð¸Ñ‘Ð¼ÐºÐ¸
3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹
4. ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸ÑŽ
5. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½ÑƒÑŽ ÐºÐ¾Ð¿Ð¸ÑŽ:
   ```bash
   docker exec nutrition-postgres pg_dump -U nutrition_app nutrition > backup.sql
   ```

---

## ðŸ“Š ÐžÐ±Ñ‰Ð°Ñ Ð¾Ñ†ÐµÐ½ÐºÐ° Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸

| Ð­Ñ‚Ð°Ð¿ | Ð’Ñ€ÐµÐ¼Ñ | ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ |
|------|-------|-----------|
| 1. Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° | 1-2 Ñ‡ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ |
| 2. Ð¢Ð°Ð±Ð»Ð¸Ñ†Ñ‹ | 2-3 Ñ‡ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ |
| 3. Ð˜Ð½Ð´ÐµÐºÑÑ‹ Ð¸ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹ | 2-3 Ñ‡ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ |
| 4. VIEW Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ | 2-3 Ñ‡ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ |
| 5. ÐÐ°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ | 2-3 Ñ‡ | Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ |
| 6. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ | 2-3 Ñ‡ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ |
| 7. Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ | 2-3 Ñ‡ | Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ |
| 8. Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° | 1 Ñ‡ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ |
| **Ð˜Ð¢ÐžÐ“Ðž** | **14-21 Ñ‡** | |

---

## ðŸŽ¯ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ð¹ Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

### Ð”ÐµÐ½ÑŒ 1 (4-6 Ñ‡Ð°ÑÐ¾Ð²)
- âœ… Ð­Ñ‚Ð°Ð¿ 1: Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
- âœ… Ð­Ñ‚Ð°Ð¿ 2: Ð¢Ð°Ð±Ð»Ð¸Ñ†Ñ‹
- âœ… ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð­Ñ‚Ð°Ð¿Ð° 3: Ð˜Ð½Ð´ÐµÐºÑÑ‹

### Ð”ÐµÐ½ÑŒ 2 (4-6 Ñ‡Ð°ÑÐ¾Ð²)
- âœ… Ð—Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ðµ Ð­Ñ‚Ð°Ð¿Ð° 3: Ð¢Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹
- âœ… Ð­Ñ‚Ð°Ð¿ 4: VIEW Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸

### Ð”ÐµÐ½ÑŒ 3 (3-5 Ñ‡Ð°ÑÐ¾Ð²)
- âœ… Ð­Ñ‚Ð°Ð¿ 5: ÐÐ°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
- âœ… Ð­Ñ‚Ð°Ð¿ 6: Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### Ð”ÐµÐ½ÑŒ 4 (3-4 Ñ‡Ð°ÑÐ°)
- âœ… Ð­Ñ‚Ð°Ð¿ 7: Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- âœ… Ð­Ñ‚Ð°Ð¿ 8: Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°

---

## ðŸ“‹ Ð§ÐµÐº-Ð»Ð¸ÑÑ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸

### Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°
- [ ] Docker Compose Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½
- [ ] PostgreSQL Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½
- [ ] pgAdmin Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½
- [ ] .env Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½

### Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
- [ ] 9 Ñ‚Ð°Ð±Ð»Ð¸Ñ† ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹
- [ ] Ð’ÑÐµ constraints Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] 15+ Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð² ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹
- [ ] 6 Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ð¾Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] 8+ VIEW ÑÐ¾Ð·Ð´Ð°Ð½Ñ‹
- [ ] 6 Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚

### Ð”Ð°Ð½Ð½Ñ‹Ðµ
- [ ] 10 ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð²
- [ ] 9 ÐºÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¹ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð²
- [ ] 50-70 Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð²
- [ ] 20-30 ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ð¾Ð²
- [ ] 3-5 Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¾Ð²

### Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ
- [ ] test_01_basic_crud.sql âœ“
- [ ] test_02_search.sql âœ“
- [ ] test_03_calculations.sql âœ“
- [ ] test_04_triggers.sql âœ“
- [ ] test_05_soft_delete.sql âœ“

### Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
- [ ] README.md Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½
- [ ] docs/ER_DIAGRAM.md ÑÐ¾Ð·Ð´Ð°Ð½
- [ ] docs/API_QUERIES.md ÑÐ¾Ð·Ð´Ð°Ð½
- [ ] docs/PERFORMANCE.md ÑÐ¾Ð·Ð´Ð°Ð½

### Ð¤Ð¸Ð½Ð°Ð»
- [ ] Ð’ÑÐµ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¿Ñ€Ð¸Ñ‘Ð¼ÐºÐ¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ñ‹
- [ ] Backup ÑÐ¾Ð·Ð´Ð°Ð½
- [ ] ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÑŽ

---

## ðŸ” ÐšÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¿Ñ€Ð¸Ñ‘Ð¼ÐºÐ¸ (Ð¸Ð· Ð¢Ð—)

### ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ
- [ ] ÐŸÑ€Ð¾ÐµÐºÑ‚ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ñ‡ÐµÑ€ÐµÐ· `docker-compose up -d`
- [ ] Ð’ÑÐµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ ÑÐ¾Ð·Ð´Ð°ÑŽÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ Ñ‚Ð¸Ð¿Ð°Ð¼Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…
- [ ] Ð’ÑÐµ constraints (CHECK, UNIQUE, FK) Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] ÐÐ°Ñ‡Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ (50-70 Ð¸Ð½Ð³Ñ€ÐµÐ´Ð¸ÐµÐ½Ñ‚Ð¾Ð², ÑÐ¸Ð½Ð¾Ð½Ð¸Ð¼Ñ‹, Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ñ‹)
- [ ] pgAdmin Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ Ð½Ð° localhost:5050
- [ ] Ð’ÑÐµ VIEW Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ (*_active, *_all, Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ð½Ñ‹Ðµ)
- [ ] Ð’ÑÐµ Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ñ‹ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ (Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ, Ñ€Ð°ÑÑ‡Ñ‘Ñ‚Ñ‹ ÐšÐ‘Ð–Ð£, ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°)
- [ ] ÐŸÐ¾Ð¸ÑÐº Ñ Ð¾Ð¿ÐµÑ‡Ð°Ñ‚ÐºÐ°Ð¼Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ (trigram similarity >= 0.3)
- [ ] Soft delete Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ (Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ + VIEW)
- [ ] Ð¢ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´ÑÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ (Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ test_05_soft_delete)
- [ ] Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð° (README, ER_DIAGRAM, API_QUERIES, PERFORMANCE)

### Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ
- [ ] ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ COMMENT ON Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ð¼ Ð¸ ÐºÐ¾Ð»Ð¾Ð½ÐºÐ°Ð¼
- [ ] Ð˜Ð½Ð´ÐµÐºÑÑ‹ Ð´Ð»Ñ Ð²ÑÐµÑ… FK
- [ ] Partial indexes Ð´Ð»Ñ deleted_at IS NULL
- [ ] GIN Ð¸Ð½Ð´ÐµÐºÑÑ‹ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° (trigram, full-text)
- [ ] EXPLAIN ANALYZE Ð² docs/PERFORMANCE.md
- [ ] ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² README Ð¸ API_QUERIES.md
- [ ] Ð’ÑÐµ Ñ‡Ð¸ÑÐ»Ð¾Ð²Ñ‹Ðµ Ð¿Ð¾Ð»Ñ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¹ precision (NUMERIC)
- [ ] Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¸ soft_delete_* Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ°Ð¼Ð¸

---

## ðŸ“ž ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹

### Docker
```bash
# Ð—Ð°Ð¿ÑƒÑÐº
docker-compose up -d

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
docker-compose down

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ñ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸ÐµÐ¼ Ð´Ð°Ð½Ð½Ñ‹Ñ…
docker-compose down -v

# Ð›Ð¾Ð³Ð¸
docker-compose logs -f postgres

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
docker-compose restart postgres
```

### PostgreSQL
```bash
# ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ‡ÐµÑ€ÐµÐ· psql
docker exec -it nutrition-postgres psql -U nutrition_app -d nutrition

# Backup
docker exec nutrition-postgres pg_dump -U nutrition_app nutrition > backup.sql

# Restore
docker exec -i nutrition-postgres psql -U nutrition_app nutrition < backup.sql

# Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ‚Ð°Ð±Ð»Ð¸Ñ†
docker exec nutrition-postgres psql -U nutrition_app -d nutrition -c "\dt nutrition.*"
```

### ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ SQL ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
```sql
-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð²ÑÐµÑ… Ñ‚Ð°Ð±Ð»Ð¸Ñ†
\dt nutrition.*

-- Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
\d+ nutrition.ingredients

-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¸Ð½Ð´ÐµÐºÑÐ¾Ð²
\di nutrition.*

-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
\df nutrition.*

-- Ð¡Ð¿Ð¸ÑÐ¾Ðº VIEW
\dv nutrition.*

-- Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚Ð°Ð±Ð»Ð¸Ñ†
SELECT
  schemaname,
  tablename,
  pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables
WHERE schemaname = 'nutrition'
ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC;
```

---

**Ð’ÐµÑ€ÑÐ¸Ñ Ð¿Ð»Ð°Ð½Ð°:** 1.0
**ÐŸÐ¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ:** 2025-11-13
